# scores
execute as @s[type=brr:plate, tag=train, scores={"train switch"=1}] at @s run scoreboard players add @s train 1
execute as @s[type=brr:plate, tag=train, scores={train=1}] at @s run scoreboard players random @s "train movement" 1 2
# rail spawn
execute as @s[type=brr:plate, tag=train, scores={train=1}] at @s run structure load E46M1a ~-64 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=2}] at @s run structure load E46M1a ~-61 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=3}] at @s run structure load E46M1a ~-58 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=4}] at @s run structure load E46M1a ~-55 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=5}] at @s run structure load E46M1a ~-52 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=6}] at @s run structure load E46M1a ~-49 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=7}] at @s run structure load E46M1a ~-46 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=8}] at @s run structure load E46M1a ~-43 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=9}] at @s run structure load E46M1a ~-40 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=10}] at @s run structure load E46M1a ~-37 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=11}] at @s run structure load E46M1a ~-34 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=12}] at @s run structure load E46M1a ~-31 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=13}] at @s run structure load E46M1a ~-28 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=14}] at @s run structure load E46M1a ~-25 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=15}] at @s run structure load E46M1a ~-22 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=16}] at @s run structure load E46M1a ~-19 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=17}] at @s run structure load E46M1a ~-16 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=18}] at @s run structure load E46M1a ~-13 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=19}] at @s run structure load E46M1a ~-10 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=20}] at @s run structure load E46M1a ~-7 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=21}] at @s run structure load E46M1a ~-4 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=22}] at @s run structure load E46M1a ~-1 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=23}] at @s run structure load E46M1a ~2 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=24}] at @s run structure load E46M1a ~5 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=25}] at @s run structure load E46M1a ~8 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=26}] at @s run structure load E46M1a ~11 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=27}] at @s run structure load E46M1a ~14 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=28}] at @s run structure load E46M1a ~17 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=29}] at @s run structure load E46M1a ~20 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=30}] at @s run structure load E46M1a ~23 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=31}] at @s run structure load E46M1a ~26 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=32}] at @s run structure load E46M1a ~29 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=33}] at @s run structure load E46M1a ~32 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=34}] at @s run structure load E46M1a ~35 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=35}] at @s run structure load E46M1a ~38 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=36}] at @s run structure load E46M1a ~41 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=37}] at @s run structure load E46M1a ~44 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=38}] at @s run structure load E46M1a ~47 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=39}] at @s run structure load E46M1a ~50 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=40}] at @s run structure load E46M1a ~53 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=41}] at @s run structure load E46M1a ~56 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=42}] at @s run structure load E46M1a ~59 ~-3 ~-2 
execute as @s[type=brr:plate, tag=train, scores={train=43}] at @s run structure load E46M1b ~62 ~-3 ~-2 
# = train moving =
execute as @s[type=brr:plate, tag=train, scores={train=100..}] at @s run function events/train_properties/train_move
# = effects/particles =
execute as @s[type=brr:plate, tag=train] at @s run function events/train_properties/train_particles
# = kill hitbox =
execute as @s[type=brr:plate, tag=train, scores={train=100..}] at @s run function events/train_properties/train_killhitbox
# end
execute as @s[type=brr:plate, tag=train, scores={train=244}] at @s run kill @e[type=brr:plate, tag=train2, x=~-65, y=~-30, z=~-5, dx=140, dy=80, dz=10]
execute as @s[type=brr:plate, tag=train, scores={train=244}] at @s run kill @s